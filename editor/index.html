<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navegador Gal√°ctico - Content Editor</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div class="editor-container">
        <!-- Header -->
        <header class="editor-header">
            <div class="header-content">
                <h1>üéÆ Navegador Gal√°ctico - Content Editor</h1>
                <p class="subtitle">Crea contenido sin tocar c√≥digo</p>
            </div>
            <div class="header-actions">
                <button id="btnBackToGame" class="btn btn-info">‚Üê Volver al Juego</button>
                <button id="btnExport" class="btn btn-primary">üì• Exportar JSON</button>
                <button id="btnImport" class="btn btn-secondary">üì§ Importar JSON</button>
                <button id="btnNew" class="btn btn-success">‚ûï Nuevo</button>
            </div>
            <input type="file" id="fileInput" accept=".json" style="display: none;">
        </header>

        <!-- Tabs de navegaci√≥n -->
        <nav class="tabs-nav">
            <button class="tab-btn active" data-tab="events">üìã Eventos</button>
            <button class="tab-btn" data-tab="cards">üé¥ Cartas</button>
            <button class="tab-btn" data-tab="ships">üöÄ Naves</button>
            <button class="tab-btn" data-tab="shops">üè¨ Tiendas</button>
            <button class="tab-btn" data-tab="dialogues">üí¨ Di√°logos</button>
            <button class="tab-btn" data-tab="chains">üîó Cadenas</button>
        </nav>

        <!-- Contenedor principal -->
        <main class="editor-main">
            <!-- TAB: EVENTOS -->
            <section id="events-tab" class="tab-content active">
                <div class="content-layout">
                    <!-- Lista de eventos -->
                    <aside class="sidebar">
                        <div class="sidebar-header">
                            <h3>Eventos</h3>
                            <div style="display: flex; gap: 5px;">
                                <button id="btnAddEventTemplate" class="btn btn-small btn-info" style="font-size: 11px;">üìã</button>
                                <button id="btnAddEvent" class="btn btn-small btn-success">+ Nuevo</button>
                            </div>
                        </div>
                        <div class="search-box">
                            <input type="text" id="searchEvents" placeholder="Buscar evento..." class="input-text">
                        </div>
                        <div id="eventsList" class="items-list">
                            <!-- Se llena din√°micamente -->
                        </div>
                    </aside>

                    <!-- Editor de evento -->
                    <section class="editor-panel">
                        <div id="eventEditor" class="editor-form" style="display: none;">
                            <div class="form-section">
                                <h3>üìù Informaci√≥n B√°sica</h3>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>ID*</label>
                                        <input type="text" id="eventId" class="input-text" placeholder="enc_event_01">
                                    </div>
                                    <div class="form-group">
                                        <label>T√≠tulo*</label>
                                        <input type="text" id="eventTitle" class="input-text" placeholder="T√≠tulo del evento">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Tipo*</label>
                                        <select id="eventType" class="input-select">
                                            <option value="encounter">Encuentro</option>
                                            <option value="hazard">Peligro</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Dificultad</label>
                                        <select id="eventDifficulty" class="input-select">
                                            <option value="">---</option>
                                            <option value="easy">F√°cil</option>
                                            <option value="medium">Medio</option>
                                            <option value="hard">Dif√≠cil</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Descripci√≥n</label>
                                    <textarea id="eventDescription" class="input-textarea" placeholder="Descripci√≥n breve"></textarea>
                                </div>
                            </div>

                            <!-- Narrativa -->
                            <div class="form-section">
                                <h3>üìñ Narrativa</h3>
                                <div class="form-group">
                                    <label>Intro Text*</label>
                                    <div id="introTextContainer" class="text-array-container"></div>
                                    <button id="btnAddIntroText" class="btn btn-small">+ P√°rrafo</button>
                                </div>
                                <div class="form-group">
                                    <label>Prompt (Pregunta)*</label>
                                    <input type="text" id="eventPrompt" class="input-text" placeholder="¬øC√≥mo procedes?">
                                </div>
                            </div>

                            <!-- Medios -->
                            <div class="form-section">
                                <h3>üñºÔ∏è Medios</h3>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>URL de Imagen</label>
                                        <input type="text" id="eventImageUrl" class="input-text" placeholder="https://...jpg">
                                    </div>
                                    <div class="form-group">
                                        <label>Orientaci√≥n</label>
                                        <select id="eventImageOrientation" class="input-select">
                                            <option value="">---</option>
                                            <option value="horizontal">Horizontal</option>
                                            <option value="vertical">Vertical</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>URL de Video</label>
                                    <input type="text" id="eventVideoUrl" class="input-text" placeholder="https://...mp4">
                                </div>
                            </div>

                            <!-- Opciones -->
                            <div class="form-section">
                                <h3>üéØ Opciones</h3>
                                <div id="optionsContainer" class="options-container"></div>
                                <button id="btnAddOption" class="btn btn-small btn-success">+ Nueva Opci√≥n</button>
                            </div>

                            <!-- Botones de acci√≥n -->
                            <div class="form-actions">
                                <button id="btnSaveEvent" class="btn btn-primary">üíæ Guardar</button>
                                <button id="btnDeleteEvent" class="btn btn-danger">üóëÔ∏è Eliminar</button>
                                <button id="btnPreviewEvent" class="btn btn-info">üëÅÔ∏è Preview</button>
                            </div>
                        </div>

                        <!-- Empty state -->
                        <div id="eventEmptyState" class="empty-state">
                            <p>üìã Selecciona o crea un evento para comenzar</p>
                        </div>
                    </section>
                </div>
            </section>

            <!-- TAB: PREVIEW -->
            <section id="preview-section" class="tab-content" style="display: none;">
                <div id="previewContainer" class="preview-container"></div>
            </section>

            <!-- TAB: CARTAS -->
            <section id="cards-tab" class="tab-content">
                <div class="content-layout">
                    <aside class="sidebar">
                        <div class="sidebar-header">
                            <h3>Cartas</h3>
                            <div style="display: flex; gap: 5px;">
                                <button id="btnAddCardTemplate" class="btn btn-small btn-info" style="font-size: 11px;">üìã</button>
                                <button id="btnAddCard" class="btn btn-small btn-success">+ Nuevo</button>
                            </div>
                        </div>
                        <div class="search-box">
                            <input type="text" id="searchCards" placeholder="Buscar carta..." class="input-text">
                        </div>
                        <div id="cardsList" class="items-list"></div>
                    </aside>

                    <section class="editor-panel">
                        <div id="cardEditor" class="editor-form" style="display: none;">
                            <div class="form-section">
                                <h3>üé¥ Informaci√≥n B√°sica</h3>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>ID*</label>
                                        <input type="text" id="cardId" class="input-text" placeholder="CARD_001">
                                    </div>
                                    <div class="form-group">
                                        <label>Nombre*</label>
                                        <input type="text" id="cardName" class="input-text" placeholder="Nombre de la carta">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Tipo*</label>
                                        <select id="cardType" class="input-select">
                                            <option value="Crew">Tripulaci√≥n</option>
                                            <option value="Attack">Ataque</option>
                                            <option value="Skill">Habilidad</option>
                                            <option value="Equipment">Equipo</option>
                                            <option value="Ship">Nave</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Rareza</label>
                                        <select id="cardRarity" class="input-select">
                                            <option value="Common">Com√∫n</option>
                                            <option value="Uncommon">Poco com√∫n</option>
                                            <option value="Rare">Raro</option>
                                            <option value="Epic">√âpico</option>
                                            <option value="Legendary">Legendario</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Costo de Energ√≠a</label>
                                        <input type="number" id="cardCost" class="input-number" min="0" value="0">
                                    </div>
                                    <div class="form-group">
                                        <label>Precio en Tienda</label>
                                        <input type="number" id="cardPrice" class="input-number" min="0" value="10">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Facci√≥n</label>
                                    <select id="cardFaction" class="input-select">
                                        <option value="Neutral">Neutral</option>
                                        <option value="Academia">Academia</option>
                                        <option value="Mercenarios">Mercenarios</option>
                                        <option value="Tecno-Gremio">Tecno-Gremio</option>
                                        <option value="Hacktivistas">Hacktivistas</option>
                                        <option value="Comerciante">Comerciante</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Descripci√≥n</label>
                                    <textarea id="cardDescription" class="input-textarea" placeholder="Descripci√≥n de la carta"></textarea>
                                </div>
                                <div class="form-group">
                                    <label>URL de Imagen</label>
                                    <input type="text" id="cardImage" class="input-text" placeholder="https://...jpg">
                                </div>
                            </div>

                            <div class="form-section">
                                <h3>üìä Estad√≠sticas</h3>
                                <div id="cardStatsContainer"></div>
                            </div>

                            <div class="form-section">
                                <h3>‚ö° Efectos</h3>
                                <div id="cardEffectsContainer" style="display: flex; flex-direction: column; gap: 8px; margin-bottom: 10px;"></div>
                                <button id="btnAddCardEffect" class="btn btn-small btn-success">+ Agregar Efecto</button>
                            </div>

                            <div class="form-section">
                                <h3>üîó Sinergias</h3>
                                <div id="cardSynergiesContainer" style="display: flex; flex-direction: column; gap: 8px; margin-bottom: 10px;"></div>
                                <button id="btnAddCardSynergy" class="btn btn-small btn-success">+ Agregar Sinergia</button>
                            </div>

                            <div class="form-actions">
                                <button id="btnSaveCard" class="btn btn-primary">üíæ Guardar</button>
                                <button id="btnDeleteCard" class="btn btn-danger">üóëÔ∏è Eliminar</button>
                                <button id="btnPreviewCard" class="btn btn-info">üëÅÔ∏è Preview</button>
                            </div>
                        </div>

                        <div id="cardEmptyState" class="empty-state">
                            <p>üé¥ Selecciona o crea una carta para comenzar</p>
                        </div>
                    </section>
                </div>
            </section>
            <!-- TAB: NAVES -->
            <section id="ships-tab" class="tab-content">
                <div class="content-layout">
                    <aside class="sidebar">
                        <div class="sidebar-header"><h3>Naves</h3>
                            <div style="display: flex; gap: 5px;">
                                <button id="btnAddShipTemplate" class="btn btn-small btn-info" style="font-size: 11px;">üìã</button>
                                <button id="btnAddShip" class="btn btn-small btn-success">+ Nuevo</button>
                            </div>
                        </div>
                        <div class="search-box"><input type="text" id="searchShips" placeholder="Buscar nave..." class="input-text"></div>
                        <div id="shipsList" class="items-list"></div>
                    </aside>
                    <section class="editor-panel">
                        <div id="shipEditor" class="editor-form" style="display: none;">
                            <div class="form-section"><h3>üöÄ Informaci√≥n B√°sica</h3>
                                <div class="form-row">
                                    <div class="form-group"><label>ID*</label><input type="text" id="shipId" class="input-text"></div>
                                    <div class="form-group"><label>Nombre*</label><input type="text" id="shipName" class="input-text"></div>
                                </div>
                                <div class="form-group">
                                    <label>Disponibilidad</label>
                                    <select id="shipAvailability" class="input-select">
                                        <option value="always">Siempre disponible</option>
                                        <option value="shop">Comprable en tienda</option>
                                        <option value="event">Desbloqueable por evento</option>
                                        <option value="quest">Recompensa de misi√≥n</option>
                                        <option value="hidden">Oculta (requiere c√≥digo especial)</option>
                                    </select>
                                    <small style="display: block; margin-top: 4px; color: var(--text-secondary); font-size: 11px;">
                                        üí° Si no es "Siempre disponible", no aparecer√° en el hangar hasta desbloquearse
                                    </small>
                                </div>
                                <div class="form-group"><label>Descripci√≥n</label><textarea id="shipDescription" class="input-textarea"></textarea></div>
                                <div class="form-group"><label>URL Imagen</label><input type="text" id="shipImage" class="input-text"></div>
                            </div>
                            <div class="form-section"><h3>üìä Estad√≠sticas</h3>
                                <div class="form-row">
                                    <div class="form-group"><label>Casco M√°ximo</label><input type="number" id="shipMaxHull" class="input-number" value="30"></div>
                                    <div class="form-group"><label>Escudo M√°ximo</label><input type="number" id="shipMaxShields" class="input-number" value="20"></div>
                                </div>
                                <div class="form-group"><label>Combustible M√°ximo</label><input type="number" id="shipMaxFuel" class="input-number" value="10"></div>
                            </div>
                            <div class="form-section"><h3>‚ú® Habilidad Especial</h3>
                                <div class="form-group"><label>Nombre</label><input type="text" id="shipAbilityName" class="input-text"></div>
                                <div class="form-group"><label>Descripci√≥n</label><textarea id="shipAbilityDesc" class="input-textarea"></textarea></div>
                                <div class="form-group"><label>Efecto</label><input type="text" id="shipAbilityEffect" class="input-text" placeholder="GAIN_DEFENSE, etc"></div>
                            </div>
                            <div class="form-section">
                                <h3>‚ö° Efectos Pasivos</h3>
                                <div id="shipEffectsContainer" style="display: flex; flex-direction: column; gap: 8px; margin-bottom: 10px;"></div>
                                <button id="btnAddShipEffect" class="btn btn-small btn-success">+ Agregar Efecto</button>
                            </div>
                            <div class="form-actions"><button id="btnSaveShip" class="btn btn-primary">üíæ Guardar</button><button id="btnDeleteShip" class="btn btn-danger">üóëÔ∏è Eliminar</button><button id="btnPreviewShip" class="btn btn-info">üëÅÔ∏è Preview</button></div>
                        </div>
                        <div id="shipEmptyState" class="empty-state"><p>üöÄ Selecciona o crea una nave</p></div>
                    </section>
                </div>
            </section>

            <!-- TAB: TIENDAS -->
            <section id="shops-tab" class="tab-content">
                <div class="content-layout">
                    <aside class="sidebar">
                        <div class="sidebar-header"><h3>Tiendas</h3>
                            <div style="display: flex; gap: 5px;">
                                <button id="btnAddShopTemplate" class="btn btn-small btn-info" style="font-size: 11px;">üìã</button>
                                <button id="btnAddShop" class="btn btn-small btn-success">+ Nuevo</button>
                            </div>
                        </div>
                        <div class="search-box"><input type="text" id="searchShops" placeholder="Buscar tienda..." class="input-text"></div>
                        <div id="shopsList" class="items-list"></div>
                    </aside>
                    <section class="editor-panel">
                        <div id="shopEditor" class="editor-form" style="display: none;">
                            <div class="form-section"><h3>üè¨ Informaci√≥n B√°sica</h3>
                                <div class="form-row"><div class="form-group"><label>ID*</label><input type="text" id="shopId" class="input-text"></div>
                                <div class="form-group"><label>Nombre*</label><input type="text" id="shopName" class="input-text"></div></div>
                                <div class="form-row"><div class="form-group"><label>Due√±o</label><input type="text" id="shopOwner" class="input-text"></div>
                                <div class="form-group"><label>Ubicaci√≥n</label><input type="text" id="shopLocation" class="input-text"></div></div>
                                <div class="form-group"><label>Descripci√≥n</label><textarea id="shopDescription" class="input-textarea"></textarea></div>
                            </div>
                            <div class="form-section"><h3>üíº Servicios</h3>
                                <div class="form-group"><label><input type="checkbox" id="shopServiceRemove"> Remover carta</label></div>
                                <div class="form-group"><label><input type="checkbox" id="shopServiceRepair"> Reparar casco</label></div>
                                <div class="form-group"><label><input type="checkbox" id="shopServiceUpgrade"> Mejorar carta</label></div>
                            </div>
                            <div class="form-section"><h3>üéØ Traits</h3>
                                <div id="shopTraitsContainer"></div>
                                <button id="btnAddTrait" class="btn btn-small btn-success">+ Trait</button>
                            </div>
                            <div class="form-section"><h3>üì¶ Inventario</h3>
                                <div id="shopInventoryContainer"></div>
                                <button id="btnAddInventory" class="btn btn-small btn-success">+ Item</button>
                            </div>
                            <div class="form-actions"><button id="btnSaveShop" class="btn btn-primary">üíæ Guardar</button><button id="btnDeleteShop" class="btn btn-danger">üóëÔ∏è Eliminar</button><button id="btnPreviewShop" class="btn btn-info">üëÅÔ∏è Preview</button></div>
                        </div>
                        <div id="shopEmptyState" class="empty-state"><p>üè¨ Selecciona o crea una tienda</p></div>
                    </section>
                </div>
            </section>
            <!-- TAB: DI√ÅLOGOS -->
            <section id="dialogues-tab" class="tab-content">
                <div class="content-layout">
                    <aside class="sidebar">
                        <div class="sidebar-header"><h3>Di√°logos</h3>
                            <div style="display: flex; gap: 5px;">
                                <button id="btnAddDialogueTemplate" class="btn btn-small btn-info" style="font-size: 11px;">üìã</button>
                                <button id="btnAddDialogue" class="btn btn-small btn-success">+ Nuevo</button>
                            </div>
                        </div>
                        <div class="search-box"><input type="text" id="searchDialogues" placeholder="Buscar di√°logo..." class="input-text"></div>
                        <div id="dialoguesList" class="items-list"></div>
                    </aside>
                    <section class="editor-panel">
                        <div id="dialogueEditor" class="editor-form" style="display: none;">
                            <div class="form-section"><h3>üí¨ Informaci√≥n B√°sica</h3>
                                <div class="form-row">
                                    <div class="form-group"><label>ID del Di√°logo*</label><input type="text" id="dialogueId" class="input-text" placeholder="dialogue_001"></div>
                                    <div class="form-group"><label>Nombre del Speaker</label><input type="text" id="dialogueSpeaker" class="input-text" placeholder="Capit√°n Raven"></div>
                                </div>
                                <div class="form-group">
                                    <label>üé≠ ID de Carta del Interlocutor</label>
                                    <input type="text" id="dialogueSpeakerCardId" class="input-text" placeholder="CREW_CAPTAIN_01" style="font-family: monospace;">
                                    <small style="display: block; margin-top: 4px; color: var(--text-secondary); font-size: 11px;">
                                        üí° El asset de esta carta se usar√° para mostrar la imagen del interlocutor
                                    </small>
                                </div>
                                <div class="form-group"><label>Texto del Di√°logo*</label><textarea id="dialogueText" class="input-textarea" placeholder="¬øQu√© dice el personaje?" style="min-height: 100px;"></textarea></div>
                            </div>
                            <div class="form-section"><h3>‚öôÔ∏è Condiciones</h3>
                                <div id="conditionsList"></div>
                                <button id="btnAddCondition" class="btn btn-small btn-success">+ Condici√≥n</button>
                            </div>
                            <div class="form-section"><h3>üéØ Opciones de Respuesta</h3>
                                <div id="optionsList"></div>
                                <button id="btnAddDialogueOption" class="btn btn-small btn-success">+ Opci√≥n</button>
                            </div>
                            <div class="form-actions">
                                <button id="btnSaveDialogue" class="btn btn-primary">üíæ Guardar</button>
                                <button id="btnDeleteDialogue" class="btn btn-danger">üóëÔ∏è Eliminar</button>
                                <button id="btnPreviewDialogue" class="btn btn-info">üëÅÔ∏è Preview</button>
                            </div>
                        </div>
                        <div id="dialogueEmptyState" class="empty-state"><p>üí¨ Selecciona o crea un di√°logo</p></div>
                    </section>
                </div>
            </section>
            <!-- TAB: CADENAS NARRATIVAS -->
            <section id="chains-tab" class="tab-content">
                <div class="content-layout">
                    <aside class="sidebar">
                        <div class="sidebar-header"><h3>Cadenas</h3>
                            <div style="display: flex; gap: 5px;">
                                <button id="btnAddChainTemplate" class="btn btn-small btn-info" style="font-size: 11px;">üìã</button>
                                <button id="btnAddChain" class="btn btn-small btn-success">+ Nuevo</button>
                            </div>
                        </div>
                        <div class="search-box"><input type="text" id="searchChains" placeholder="Buscar cadena..." class="input-text"></div>
                        <div id="chainsList" class="items-list"></div>
                    </aside>
                    <section class="editor-panel">
                        <div id="chainEditor" class="editor-form" style="display: none;">
                            <div class="form-section"><h3>üìñ Informaci√≥n B√°sica</h3>
                                <div class="form-row">
                                    <div class="form-group"><label>ID de la Cadena*</label><input type="text" id="chainId" class="input-text" placeholder="chain_mision_rescate"></div>
                                    <div class="form-group"><label>Nombre de la Historia</label><input type="text" id="chainName" class="input-text" placeholder="Misi√≥n de Rescate"></div>
                                </div>
                                <div class="form-group"><label>Descripci√≥n</label><textarea id="chainDescription" class="input-textarea" placeholder="Una historia sobre..." style="min-height: 80px;"></textarea></div>
                                <div class="form-group">
                                    <label>üöÄ ID del Primer Evento</label>
                                    <input type="text" id="chainStartNode" class="input-text" placeholder="event_001" style="font-family: monospace;">
                                    <small style="display: block; margin-top: 4px; color: var(--text-secondary); font-size: 11px;">
                                        üí° Este ser√° el primer evento que se ejecute al iniciar esta historia
                                    </small>
                                </div>
                            </div>
                            <div class="form-section">
                                <h3>üìç Eventos de la Historia</h3>
                                <p style="font-size: 12px; color: var(--text-secondary); margin-bottom: 15px; line-height: 1.6;">
                                    üí° Los eventos son las escenas que componen tu historia. No confundir con los nodos del mapa (que son generados al azar).
                                </p>
                                <div id="nodesList"></div>
                                <button id="btnAddNode" class="btn btn-small btn-success">+ Agregar Evento</button>
                            </div>
                            <div class="form-actions">
                                <button id="btnSaveChain" class="btn btn-primary">üíæ Guardar</button>
                                <button id="btnDeleteChain" class="btn btn-danger">üóëÔ∏è Eliminar</button>
                                <button id="btnPreviewChain" class="btn btn-info">üëÅÔ∏è Preview</button>
                            </div>
                        </div>
                        <div id="chainEmptyState" class="empty-state"><p>üìñ Selecciona o crea una cadena</p></div>
                    </section>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal para opciones de evento -->
    <div id="optionModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Editar Opci√≥n</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>ID de Opci√≥n*</label>
                    <input type="text" id="optionId" class="input-text" placeholder="opt_choice_01">
                </div>
                <div class="form-group">
                    <label>Texto*</label>
                    <input type="text" id="optionText" class="input-text" placeholder="[OPCI√ìN] Descripci√≥n">
                </div>
                <div class="form-group">
                    <label>Descripci√≥n (tooltip)</label>
                    <textarea id="optionDescription" class="input-textarea" placeholder="Descripci√≥n adicional"></textarea>
                </div>

                <div class="form-section">
                    <h4>Requisitos</h4>
                    <div class="form-group">
                        <label>Tripulante Requerido</label>
                        <input type="text" id="optionCrewRequirement" class="input-text" placeholder="CREW_ID">
                    </div>
                    <div class="form-group">
                        <label>Cr√©ditos M√≠nimos</label>
                        <input type="number" id="optionMinCredits" class="input-number" min="0">
                    </div>
                    <div class="form-group">
                        <label>Banderas Narrativas</label>
                        <input type="text" id="optionNarrativeFlags" class="input-text" placeholder="flag1,flag2">
                    </div>
                </div>

                <div class="form-section">
                    <h4>Consecuencias</h4>
                    <div id="consequencesList" class="consequences-list"></div>
                    <button id="btnAddConsequence" class="btn btn-small btn-success">+ Consecuencia</button>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btnCloseOptionModal" class="btn btn-secondary">Cancelar</button>
                <button id="btnSaveOption" class="btn btn-primary">Guardar</button>
            </div>
        </div>
    </div>

    <!-- Overlay del modal -->
    <div id="modalOverlay" class="modal-overlay" style="display: none;"></div>

    <!-- Modal de plantillas -->
    <div id="templateModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h3>üìã Seleccionar Plantilla</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p style="color: var(--text-secondary); margin-bottom: 15px; font-size: 13px;">
                    Selecciona una plantilla predefinida para comenzar r√°pidamente:
                </p>
                <div id="templatesList" style="display: grid; gap: 10px;"></div>
            </div>
            <div class="modal-footer">
                <button id="btnCloseTemplateModal" class="btn btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Toast notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Scripts -->
    <script src="./js/utils.js"></script>
    <script src="./js/modal-system.js"></script>
    <script src="./js/effects-catalog.js"></script>
    <script src="./js/effect-selector.js"></script>
    <script src="./js/templates.js"></script>
    <script src="./js/template-manager.js"></script>
    <script src="./js/app.js"></script>
    <script src="./js/editor-events.js"></script>
    <script src="./js/editor-cards.js"></script>
    <script src="./js/editor-ships.js"></script>
    <script src="./js/editor-shops.js"></script>
    <script src="./js/editor-dialogues.js"></script>
    <script src="./js/editor-chains.js"></script>
    <script src="./js/template-connectors.js"></script>
</body>
</html>
